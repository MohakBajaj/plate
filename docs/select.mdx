---
title: Select
---

{/* <ComponentPreview name="playground-demo" id="delete" /> */}

<PackageInfo>

## Features

- Set a list of element types to remove on backspace
- Set a list of element types to select on backspace, instead of removing

</PackageInfo>

## Installation

```bash
npm install @udecode/plate-select
```

## Usage

```tsx
import { DeletePlugin, SelectOnBackspacePlugin } from '@udecode/plate-select';
```

```tsx
const plugins = [
  // ...otherPlugins,
  SelectOnBackspacePlugin.configure({
    options: {
      query: {
        allow: ['img', 'hr'],
      },
    },
  }),
  DeletePlugin,
];
```

## Plugins

### `DeletePlugin`

Plugin that removes empty blocks when pressing delete (forward delete) if they match the query options.

<API name="DeletePlugin">
<APIOptions>
  <APIItem name="query" type="QueryNodeOptions" optional>
    Query options to filter which empty blocks can be removed.
    - **Default:** `{ allow: ['p'] }`
  </APIItem>
</APIOptions>

Example:

```tsx
const plugins = [
  DeletePlugin.configure({
    options: {
      // Only remove empty paragraphs and blockquotes
      query: {
        allow: ['p', 'blockquote'],
      },
    },
  }),
];
```

Behavior:
1. Check if current block is empty and matches query options
2. If true: Remove entire block
3. If false: Use default delete behavior

```tsx
// Empty paragraph followed by code block
<editor>
  <p>
    <cursor />
  </p>
  <codeblock>
    <codeline>test</codeline>
  </codeblock>
</editor>

// Pressing delete will remove the empty paragraph instead of nothing
<editor>
  <codeblock>
    <codeline>test</codeline>
  </codeblock>
</editor>
```
</API>

### `SelectOnBackspacePlugin`

Plugin that selects nodes instead of deleting them when pressing backspace.

<API name="SelectOnBackspacePlugin">
<APIOptions>
  <APIItem name="query" type="QueryNodeOptions">
    Query options to determine which nodes trigger selection.
  </APIItem>
  <APIItem name="removeNodeIfEmpty" type="boolean" optional>
    Whether to remove node if empty when backspacing.
    - **Default:** `false`
  </APIItem>
</APIOptions>

Example:

```tsx
const plugins = [
  SelectOnBackspacePlugin.configure({
    options: {
      // Select these nodes instead of deleting them
      query: {
        allow: ['img', 'hr'],
      },
      // Remove current node if empty
      removeNodeIfEmpty: true,
    },
  }),
];
```

Behavior:
1. When backspace is pressed at block start:
2. Check if previous node matches query options
3. If true:
   - Select previous node instead of deleting
   - Optionally remove current node if empty
4. If false: Use default backspace behavior

```tsx
// Empty paragraph after an image
<editor>
  <img src="..." />
  <p>
    <cursor />
  </p>
</editor>

// Pressing backspace will select the image instead of deleting it
<editor>
  <img src="..." selected />
  <p></p>
</editor>

// If removeNodeIfEmpty is true, the empty paragraph is also removed
<editor>
  <img src="..." selected />
</editor>
```
</API>

### `UnselectablePlugin`

Plugin that marks specific inline void nodes as unselectable and modifies cursor movement behavior around these nodes.

<API name="UnselectablePlugin">
<APIOptions>
  <APIItem name="query" type="QueryNodeOptions" optional>
    Query options to determine which nodes should be unselectable.
    - **Default:** `null` (all nodes are selectable)
  </APIItem>
</APIOptions>

Example:

```tsx
const plugins = [
  UnselectablePlugin.configure({
    options: {
      // Make date and mention nodes unselectable
      query: {
        allow: ['date', 'mention'],
      },
    },
  }),
];
```

Behavior:
1. Marks nodes matching the query as unselectable
2. Modifies cursor movement behavior around unselectable nodes:
   - Uses 'offset' unit instead of 'character' unit when moving cursor
   - Allows stepping into and out of inline nodes without stepping over characters
3. Provides `isSelectable` API to check if a node can be selected

```tsx
// Cursor movement around an unselectable date node
<editor>
  <p>
    <text>Before </text>
    <date>2024-03-20</date>
    <text> after</text>
  </p>
</editor>

// When cursor is next to date node, pressing arrow keys will:
// - Use 'offset' unit for movement
// - Allow stepping into/out of the date node
// - Prevent selecting the date node content
```
</API>